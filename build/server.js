!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n.w={},n(n.s=5)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("foil")},function(e,t){e.exports=require("classnames")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.children;return o.default.createElement("div",null,o.default.createElement(r.default,null),t)};var o=a(n(0)),r=a(n(31));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports=require("picostate")},function(e,t,n){e.exports=n(6)},function(e,t,n){"use strict";var o=n(7),r=n(8).default,a=o.createServer(function(e,t){return r(e,t)}),u=process.env.PORT||3e3;a.listen(u,function(e){e&&console.error(e),console.log("node server listening at port ".concat(u))})},function(e,t){e.exports=require("http")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(9);var o=n(10)("index"),r=n(11)(),a=n(12)(),u=n(13),i=n(14),c=n(15),l=n(16),s=n(17),f=n(18),d=n(19),p=n(20),v=p.cache,h=p.createCache,m=n(0),y=n(23).Provider,b=n(24).Router,g=n(25).renderToNodeStream,_=n(26).default,x=n(33).default,w=n(34).default,E=n(3).default;r.use(l()),r.use(i()),r.use(u()),r.use(c.json()),r.use(s("./public")),a.get("*",function(e,t){var n=v.get(e.originalUrl);if(n)return t.writeHead(200,{"Content-Type":"text/html"}),t.write(n),t.end(),void o("Served cached response for ".concat(e.originalUrl));o("Cache miss for ".concat(e.originalUrl)),_.resolve(e.originalUrl,function(n){var r=n.payload,u=n.context,i=n.redirect;if(i.to)return t.writeHead(302,{Location:i.to}),void t.end();var c=d(w.state),l=t;if(r.cache){var s=r.cache;(l=h(e.originalUrl,f(s))).pipe(t),o("Caching ".concat(e.originalUrl," for ").concat(s))}l.write('<!doctype html>\n      <html>\n        <head>\n          <meta charset="utf-8"/>\n          <title>'.concat(w.state.title,"</title>\n          ").concat(c,"\n          ").concat("<link rel='stylesheet' href='/style.css' />",'\n          <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,400i,700" rel="stylesheet"> \n        </head>\n        <body>\n          <div id=\'root\'>'));var p=g(m.createElement(y,{store:x},m.createElement(E,null,m.createElement(b,{router:a,context:u},m.createElement(r.Component,{context:u})))));p.pipe(l,{end:!1}),p.on("end",function(){l.write("</div>\n            <script src='".concat("/index.js","'><\/script>\n            <script>\n              window.__hydrate__ = ").concat(JSON.stringify(x.state),"\n            <\/script>\n            <script src='https://clare-dev.myshopify.com/services/countries.js' defer><\/script>\n          </body>\n        </html>\n      ")),l.end(),x.reset(),w.reset()})})}),r.use(a);var O=r;t.default=O},function(e,t){e.exports=require("now-env")},function(e,t){e.exports=require("debug")},function(e,t){e.exports=require("connect")},function(e,t){e.exports=require("router")},function(e,t){e.exports=require("cors")},function(e,t){e.exports=require("compression")},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("helmet")},function(e,t){e.exports=require("serve-static")},function(e,t){e.exports=require("ms")},function(e,t){e.exports=require("html-meta-tags")},function(e,t,n){"use strict";var o=n(21).Transform,r=n(22);e.exports={cache:r,createCache:function(e,t){var n=[];return new o({transform:function(e,t,o){n.push(e),o(null,e)},flush:function(o){r.put(e,Buffer.concat(n),t),o()}})}}},function(e,t){e.exports=require("stream")},function(e,t){e.exports=require("memory-cache")},function(e,t){e.exports=require("@picostate/react")},function(e,t){e.exports=require("@foil/react")},function(e,t){e.exports=require("react-dom/server")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),r=n(1),a=i(n(27)),u=i(n(30));function i(e){return e&&e.__esModule?e:{default:e}}var c=(0,r.router)(u.default,a.default,(0,r.route)({path:"*",payload:{Component:function(e){return o.default.createElement("h1",null,"404")}}}));t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=u(n(0)),r=n(1),a=u(n(28));function u(e){return e&&e.__esModule?e:{default:e}}var i=(0,r.route)({path:":query",payload:{Component:function(e,t){return o.default.createElement("div",null,o.default.createElement(a.default,null))}}});t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=u(n(0)),r=u(n(2)),a=u(n(29));function u(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return o.default.createElement("div",{className:"search-bar f aic jcb"},o.default.createElement("input",{className:"s1",type:"search",value:"",placeholder:"Type something"}))}function f(e){return o.default.createElement("div",{className:"search-tags"},[{text:"desk"},{text:"laptop"}].map(function(t){return o.default.createElement("button",{key:t.text,className:(0,r.default)("button",{"button--border":e.activeTags.indexOf(t.text)<0}),onClick:function(n){e.toggle(t.text)}},t.text)}))}var d=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))).state={mode:"search",activeTags:["laptop"]},n}var n,u,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n=t,(u=[{key:"toggleActiveTag",value:function(e){this.setState(function(t){return{activeTags:t.activeTags.indexOf(e)>-1?t.activeTags.filter(function(t){return t!==e}):t.activeTags.concat(e)}})}},{key:"toggle",value:function(){this.setState(function(e){return{mode:"search"===e.mode?"tags":"search"}})}},{key:"render",value:function(){var e=this.state,t=e.mode,n=e.activeTags;return o.default.createElement(a.default,null,o.default.createElement("div",{className:"search"},o.default.createElement("div",{className:"search__toggle f aic"},o.default.createElement("button",{className:(0,r.default)({"is-selected":"search"===t}),onClick:this.toggle.bind(this)},"search"),"/",o.default.createElement("button",{className:(0,r.default)({"is-selected":"tags"===t}),onClick:this.toggle.bind(this)},"tags")),"search"===t?o.default.createElement(s,null):o.default.createElement(f,{activeTags:n,toggle:this.toggleActiveTag.bind(this)})))}}])&&c(n.prototype,u),i&&c(n,i),t}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.children;return r.default.createElement("div",{className:"outer rel"},t)};var o,r=(o=n(0))&&o.__esModule?o:{default:o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=u(n(0)),r=n(1),a=u(n(3));function u(e){return e&&e.__esModule?e:{default:e}}var i=(0,r.route)({path:"/about",payload:{Component:function(e){return o.default.createElement(a.default,null,o.default.createElement("h1",null,"About"))},cache:"1d"}});t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=u(n(0)),r=u(n(2)),a=n(32);function u(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))).state={open:!1},n}var n,u,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n=t,(u=[{key:"componentDidMount",value:function(){this.stick()}},{key:"stick",value:function(){this.sticky=(0,a.init)(this.logo,this.logoBounds)}},{key:"unstick",value:function(){this.sticky.destroy()}},{key:"open",value:function(){var e=this,t=(0,a.getBounds)(this.logo),n=(0,a.getBounds)(this.overlay),o=window.innerHeight,r=window.innerWidth,u=Math.sqrt(o*o+r*r),i=u/n.width*2,c=u/n.height*2;this.overlay.style.opacity=1,this.overlay.style.left="".concat(t.left,"px"),this.overlay.style.top="".concat(t.top,"px"),this.overlay.style.transform="scale(".concat(i,", ").concat(c,")"),setTimeout(function(){e.setState({open:!0}),e.unstick()},600)}},{key:"close",value:function(){var e=this,t=(0,a.getBounds)(this.logo);this.overlay.style.left="".concat(t.left,"px"),this.overlay.style.top="".concat(t.top,"px"),this.overlay.style.transform="",setTimeout(function(){e.setState({open:!1}),e.overlay.style.opacity=0,e.stick()},600)}},{key:"toggle",value:function(){this.state.open?this.close():this.open()}},{key:"render",value:function(){var e=this,t=this.state.open;return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{ref:function(t){e.overlay=t},className:"nav-overlay fix top left z1"}),o.default.createElement("header",{className:(0,r.default)("nav f aic jce rel z2")},o.default.createElement("div",{ref:function(t){e.logoBounds=t},className:"logo-bounds abs top left"},o.default.createElement("button",{ref:function(t){e.logo=t},className:(0,r.default)("logo abs fill ma",{"is-open":t}),onClick:this.toggle.bind(this)})),o.default.createElement("button",{className:(0,r.default)("button button--border",{"button--white":t})},"Donate")))}}])&&c(n.prototype,u),i&&c(n,i),t}();t.default=s},function(e,t,n){"use strict";function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.getBoundingClientRect();return{rect:n,width:n.right-n.left,height:n.bottom-n.top,left:n.left-t,right:n.right+t,top:n.top-t,bottom:n.bottom+t}}function r(e){window.requestAnimationFrame(function(){e.style.transform=""})}Object.defineProperty(t,"__esModule",{value:!0}),t.getBounds=o,t.init=function(e,t){function n(n){var a=o(t,20);n.clientX>a.left&&n.clientX<a.right&&n.clientY>a.top&&n.clientY<a.bottom?function(e,t,n){var o=n.clientX-t.left-t.width/2,r=n.clientY-t.top-t.height/2;window.requestAnimationFrame(function(){e.style.transform="translateX(".concat(o,"px) translateY(").concat(r,"px)")})}(e,a.rect,n):r(e)}return document.addEventListener("mousemove",n),{destroy:function(){document.removeEventListener("mousemove",n),r(e)}}}},function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,((o=n(4))&&o.__esModule?o:{default:o}).default)({query:""});t.default=r},function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,((o=n(4))&&o.__esModule?o:{default:o}).default)({title:"Startup Stock Photos",description:"Free stock photos for everyone"});t.default=r}]);
//# sourceMappingURL=server.js.map